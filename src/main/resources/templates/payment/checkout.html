<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>결제 테스트</title>
  <script src="https://js.tosspayments.com/v1/payment"></script>
</head>
<body>
<h1>테스트 결제 페이지</h1>
<button id="payment-button">토스 결제하기</button>

<script th:inline="javascript">
  const clientKey = [[${clientKey}]];
  const tossPayments = TossPayments(clientKey);

  document.getElementById('payment-button').addEventListener('click', function () {
    tossPayments.requestPayment({
      amount: 1000,
      orderId: 'ORDER-' + new Date().getTime(),
      orderName: '포인트 충전 테스트',
      customerName: '홍길동',
      successUrl: window.location.origin + '/test/payment/success',
      failUrl: window.location.origin + '/test/payment/fail'
    });
  });
</script>
</body>
</html>
